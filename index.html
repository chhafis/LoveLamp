<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Touch Lamp | Long Distance Love</title>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>
<script>gsap.registerPlugin(MotionPathPlugin);</script>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Inter:wght@300;600&display=swap" rel="stylesheet">

<style>
:root { --bg:#020205; }

*{ box-sizing:border-box }

html,body{
    margin:0;
    padding:0;
    background:var(--bg);
    color:white;
    font-family:'Inter',sans-serif;
    overflow:hidden;
}

body::before{
    content:'';
    position:fixed;
    inset:0;
    background:
        radial-gradient(circle at 15% 50%, rgba(255,0,80,.15), transparent 50%),
        radial-gradient(circle at 85% 50%, rgba(0,180,255,.15), transparent 50%);
    z-index:0;
}

/* particles */
#particles{
    position:fixed;
    inset:0;
    z-index:0;
    pointer-events:none;
}

/* heart overlay */
#heart-layer{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:9999;
}
.flying-heart{
    position:absolute;
    font-size:36px;
    filter:drop-shadow(0 0 14px rgba(255,80,120,1));
}

/* lamps wrapper */
.lamps-wrap{
    position:fixed;
    inset:0;
    z-index:2;
    pointer-events:none;
}

/* lamp */
.lamp-stage{
    position:fixed;
    top:50%;
    transform:translateY(-50%);
    width:360px;
    height:460px;
    cursor:pointer;
    pointer-events:auto;

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
    touch-action: manipulation;
    outline: none;
}

.lamp-left{ left:6%; }
.lamp-right{ right:6%; }

.lamp-image{
    position:absolute;
    width:100%;
    opacity:0;
    transition:.8s;
}
.lamp-image.active{ opacity:1 }

.location{
    position:absolute;
    bottom:-42px;
    width:100%;
    text-align:center;
    font-size:.8rem;
    opacity:.65;
    letter-spacing:2px;
    text-transform:uppercase;
}

/* ===== HERO (DESKTOP) ===== */
.hero-content{
    position:relative;
    z-index:3;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    pointer-events:none;
    text-align:center;
}
.hero-content p{
    letter-spacing:4px;
    font-size:.75rem;
    opacity:.6;
    text-transform:uppercase;
}
.hero-content h1{
    font-family:'Cormorant Garamond',serif;
    font-size:clamp(2.6rem,7vw,5rem);
    margin:0;
    line-height:.95;
}

/* ===== MOBILE INSTRUCTIONS ===== */
.mobile-instructions{
    display:none;
    position:fixed;
    top:calc(85px + env(safe-area-inset-top));
    left:50%;
    transform:translateX(-50%);
    z-index:5;
    text-align:center;
}
.mobile-instructions p{
    font-size:.7rem;
    letter-spacing:3px;
    opacity:.7;
    text-transform:uppercase;
    margin:0;
}
.mobile-instructions h2{
    font-family:'Cormorant Garamond',serif;
    font-size:1.6rem;
    margin:4px 0 0;
}

/* valentine */
.valentine{
    position:fixed;
    top:20px;
    right:20px;
    z-index:6;
    background:rgba(255,255,255,.05);
    backdrop-filter:blur(20px);
    padding:12px 18px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.15);
    font-size:.8rem;
    text-align:center;
}
.valentine span{
    display:block;
    font-weight:600;
    margin-top:4px;
}

/* order */
.order-btn{
    position:fixed;
    bottom:30px;
    left:50%;
    transform:translateX(-50%);
    z-index:6;
    padding:14px 38px;
    font-size:.95rem;
    font-weight:600;
    border-radius:100px;
    border:none;
    cursor:pointer;
    color:white;
    background:linear-gradient(45deg,#ff0044,#ff66aa);
    box-shadow:0 0 30px rgba(255,0,100,.6);
    transition:.3s;
}
.order-btn:hover{
    transform:translateX(-50%) scale(1.08);
}

/* ===== MOBILE LAYOUT ===== */
@media (max-width:768px){
    .hero-content{ display:none; }
    .mobile-instructions{ display:block; }

    .lamps-wrap{
        position:relative;
        display:flex;
        justify-content:center;
        gap:16px;
        height:100vh;
        align-items:center;
    }
    .lamp-stage{
        position:relative;
        top:auto;
        left:auto;
        right:auto;
        transform:none;
        width:150px;
        height:200px;
    }
    .lamp-left,.lamp-right{ left:auto; right:auto; }
    .location{
        bottom:-28px;
        font-size:.65rem;
        letter-spacing:1px;
    }
}
</style>
</head>

<body>

<canvas id="particles"></canvas>
<div id="heart-layer"></div>

<!-- MOBILE TEXT -->
<div class="mobile-instructions">
    <p>Double tap the lamp</p>
    <h2>Love Travels The Distance.</h2>
</div>

<div class="valentine">
    Valentineâ€™s Day In
    <span id="countdown">Loading...</span>
</div>

<div class="lamps-wrap">

    <div class="lamp-stage lamp-left lamp" data-side="left">
        <img id="left-red" class="lamp-image active" src="https://i.ibb.co/93kdM2zV/red.png">
        <img id="left-blue" class="lamp-image" src="https://i.ibb.co/WpVf0HDm/blue.png">
        <img id="left-rainbow" class="lamp-image" src="https://i.ibb.co/99T0r2vS/rainbow.png">
        <img id="left-candle" class="lamp-image" src="https://i.ibb.co/HpgWn0C1/yellow.png">
        <div class="location">Kochi, India</div>
    </div>

    <div class="lamp-stage lamp-right lamp" data-side="right">
        <img id="right-red" class="lamp-image active" src="https://i.ibb.co/93kdM2zV/red.png">
        <img id="right-blue" class="lamp-image" src="https://i.ibb.co/WpVf0HDm/blue.png">
        <img id="right-rainbow" class="lamp-image" src="https://i.ibb.co/99T0r2vS/rainbow.png">
        <img id="right-candle" class="lamp-image" src="https://i.ibb.co/HpgWn0C1/yellow.png">
        <div class="location">Toronto, Canada</div>
    </div>

</div>

<section class="hero-content">
    <p>Touch One Lamp</p>
    <h1>Love Travels The Distance.</h1>
</section>

<button class="order-btn" onclick="window.open('https://www.instagram.com/YOUR_PAGE_HERE','_blank')">
ðŸ’– Order on Instagram
</button>

<script>
/* === JS UNCHANGED (interaction, heart, countdown) === */
/* Lamp modes */
const modes=[
    {id:'red',glow:'rgba(255,40,80,1)',flicker:false},
    {id:'blue',glow:'rgba(0,212,255,1)',flicker:false},
    {id:'rainbow',glow:'rgba(180,120,255,1)',flicker:false},
    {id:'candle',glow:'rgba(255,150,80,1)',flicker:true}
];
let modeIndex=0;

function startGlow(img,color,intensity,flicker){
    gsap.killTweensOf(img);
    gsap.to(img,{filter:`drop-shadow(0 0 ${intensity}px ${color})`,duration:.3});
    gsap.to(img,{
        filter:`drop-shadow(0 0 ${intensity+14}px ${color})`,
        repeat:-1,yoyo:true,
        duration:flicker?.12:1.8,
        ease:"sine.inOut"
    });
}

function applyModeTo(side){
    const m=modes[modeIndex];
    document.querySelectorAll(`[id^="${side}-"]`).forEach(i=>{
        gsap.killTweensOf(i);
        i.classList.remove('active');
        i.style.filter='';
    });
    const img=document.getElementById(`${side}-${m.id}`);
    img.classList.add('active');
    startGlow(img,m.glow,m.id==='candle'?45:35,m.flicker);
    if(m.id==='rainbow'){
        gsap.to(img,{
            filter:`drop-shadow(0 0 45px ${m.glow}) hue-rotate(360deg)`,
            duration:6,repeat:-1,ease:"linear"
        });
    }
}

function flyHeart(fromLamp,toLamp,onArrive){
    const layer=document.getElementById('heart-layer');
    const heart=document.createElement('div');
    heart.className='flying-heart';
    heart.innerText='â¤ï¸';
    layer.appendChild(heart);

    const a=fromLamp.getBoundingClientRect();
    const b=toLamp.getBoundingClientRect();
    const sx=a.left+a.width/2;
    const sy=a.top+a.height/2;
    const ex=b.left+b.width/2;
    const ey=b.top+b.height/2;
    const cx=(sx+ex)/2;
    const cy=Math.min(sy,ey)-180;

    gsap.fromTo(heart,{x:sx,y:sy,scale:.6},{
        duration:2,
        scale:1.2,
        motionPath:{path:[{x:sx,y:sy},{x:cx,y:cy},{x:ex,y:ey}],curviness:1.6},
        onComplete:()=>{heart.remove();onArrive();}
    });
}

let lastTap=0;
document.querySelectorAll('.lamp').forEach(lamp=>{
    lamp.addEventListener('click',()=>{
        const now=Date.now();
        if(now-lastTap<350){
            modeIndex=(modeIndex+1)%modes.length;
            const side=lamp.dataset.side;
            const otherSide=side==='left'?'right':'left';
            const otherLamp=document.querySelector(`.lamp[data-side="${otherSide}"]`);
            applyModeTo(side);
            flyHeart(lamp,otherLamp,()=>applyModeTo(otherSide));
        }
        lastTap=now;
    });
});

/* Valentine countdown */
const countdownEl=document.getElementById('countdown');
function updateCountdown(){
    const now=new Date();
    let year=now.getFullYear();
    let valentine=new Date(year,1,14);
    if(now>valentine){ year++; valentine=new Date(year,1,14); }
    const diff=valentine-now;
    if(diff<=0){ countdownEl.innerText="Today â¤ï¸"; return; }
    countdownEl.innerText=
        Math.floor(diff/86400000)+"d "+
        Math.floor((diff%86400000)/3600000)+"h "+
        Math.floor((diff%3600000)/60000)+"m";
}
updateCountdown();
setInterval(updateCountdown,1000);
</script>

</body>
</html>
