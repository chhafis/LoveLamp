<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Touch Lamp | Long Distance Love</title>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>
<script>gsap.registerPlugin(MotionPathPlugin);</script>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Inter:wght@300;600&display=swap" rel="stylesheet">

<style>
:root { --bg:#020205; }

*{ box-sizing:border-box }

html,body{
    margin:0;
    padding:0;
    background:var(--bg);
    color:white;
    font-family:'Inter',sans-serif;
    overflow:hidden;
}

body::before{
    content:'';
    position:fixed;
    inset:0;
    background:
        radial-gradient(circle at 15% 50%, rgba(255,0,80,.15), transparent 50%),
        radial-gradient(circle at 85% 50%, rgba(0,180,255,.15), transparent 50%);
    z-index:0;
}

/* particles */
#particles{
    position:fixed;
    inset:0;
    z-index:0;
    pointer-events:none;
}

/* heart overlay */
#heart-layer{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:9999;
}
.flying-heart{
    position:absolute;
    font-size:36px;
    filter:drop-shadow(0 0 14px rgba(255,80,120,1));
}

/* lamps */
.lamp-stage{
    position:fixed;
    top:50%;
    transform:translateY(-50%);
    width:360px;
    height:460px;
    cursor:pointer;
    z-index:2;
}
.lamp-left{ left:6%; }
.lamp-right{ right:6%; }

.lamp-image{
    position:absolute;
    width:100%;
    opacity:0;
    transition:.8s;
}
.lamp-image.active{ opacity:1 }

.location{
    position:absolute;
    bottom:-42px;
    width:100%;
    text-align:center;
    font-size:.8rem;
    opacity:.65;
    letter-spacing:2px;
    text-transform:uppercase;
}

/* hero */
.hero-content{
    position:relative;
    z-index:3;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    pointer-events:none;
    text-align:center;
}
.hero-content p{
    letter-spacing:4px;
    font-size:.75rem;
    opacity:.6;
    text-transform:uppercase;
}
.hero-content h1{
    font-family:'Cormorant Garamond',serif;
    font-size:clamp(2.6rem,7vw,5rem);
    margin:0;
    line-height:.95;
}

/* valentine */
.valentine{
    position:fixed;
    top:30px;
    right:30px;
    z-index:6;
    background:rgba(255,255,255,.05);
    backdrop-filter:blur(20px);
    padding:14px 22px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.15);
    font-size:.85rem;
    text-align:center;
}
.valentine span{
    display:block;
    font-weight:600;
    margin-top:4px;
}

/* order */
.order-btn{
    position:fixed;
    bottom:40px;
    left:50%;
    transform:translateX(-50%);
    z-index:6;
    padding:16px 42px;
    font-size:1rem;
    font-weight:600;
    border-radius:100px;
    border:none;
    cursor:pointer;
    color:white;
    background:linear-gradient(45deg,#ff0044,#ff66aa);
    box-shadow:0 0 30px rgba(255,0,100,.6);
    transition:.3s;
}
.order-btn:hover{
    transform:translateX(-50%) scale(1.08);
}
</style>
</head>

<body>

<canvas id="particles"></canvas>
<div id="heart-layer"></div>

<div class="valentine">
    Valentineâ€™s Day In
    <span id="countdown">Loading...</span>
</div>

<!-- LEFT LAMP -->
<div class="lamp-stage lamp-left lamp" data-side="left">
    <img id="left-red" class="lamp-image active" src="https://i.ibb.co/93kdM2zV/red.png">
    <img id="left-blue" class="lamp-image" src="https://i.ibb.co/WpVf0HDm/blue.png">
    <img id="left-rainbow" class="lamp-image" src="https://i.ibb.co/99T0r2vS/rainbow.png">
    <img id="left-candle" class="lamp-image" src="https://i.ibb.co/HpgWn0C1/yellow.png">
    <div class="location">Kochi, India</div>
</div>

<!-- RIGHT LAMP -->
<div class="lamp-stage lamp-right lamp" data-side="right">
    <img id="right-red" class="lamp-image active" src="https://i.ibb.co/93kdM2zV/red.png">
    <img id="right-blue" class="lamp-image" src="https://i.ibb.co/WpVf0HDm/blue.png">
    <img id="right-rainbow" class="lamp-image" src="https://i.ibb.co/99T0r2vS/rainbow.png">
    <img id="right-candle" class="lamp-image" src="https://i.ibb.co/HpgWn0C1/yellow.png">
    <div class="location">Toronto, Canada</div>
</div>

<section class="hero-content">
    <p>Touch One Lamp</p>
    <h1>Love Travels The Distance.</h1>
</section>

<button class="order-btn" onclick="window.open('https://www.instagram.com/YOUR_PAGE_HERE','_blank')">
ðŸ’– Order on Instagram
</button>

<script>
/* ===== MODES ===== */
const modes=[
    {id:'red',glow:'rgba(255,40,80,1)',flicker:false},
    {id:'blue',glow:'rgba(0,212,255,1)',flicker:false},
    {id:'rainbow',glow:'rgba(180,120,255,1)',flicker:false},
    {id:'candle',glow:'rgba(255,150,80,1)',flicker:true}
];
let modeIndex=0;

/* glow */
function startGlow(img,color,intensity,flicker){
    gsap.killTweensOf(img);
    gsap.to(img,{filter:`drop-shadow(0 0 ${intensity}px ${color})`,duration:.3});
    gsap.to(img,{
        filter:`drop-shadow(0 0 ${intensity+14}px ${color})`,
        repeat:-1,yoyo:true,
        duration:flicker?.12:1.8,
        ease:"sine.inOut"
    });
}

/* apply mode to ONE lamp */
function applyModeTo(side){
    const m=modes[modeIndex];
    document.querySelectorAll(`[id^="${side}-"]`).forEach(i=>{
        gsap.killTweensOf(i);
        i.classList.remove('active');
        i.style.filter='';
    });

    const img=document.getElementById(`${side}-${m.id}`);
    img.classList.add('active');

    startGlow(img,m.glow,m.id==='candle'?45:35,m.flicker);

    if(m.id==='rainbow'){
        gsap.to(img,{
            filter:`drop-shadow(0 0 45px ${m.glow}) hue-rotate(360deg)`,
            duration:6,repeat:-1,ease:"linear"
        });
    }
}

/* flying heart */
function flyHeart(fromLamp,toLamp,onArrive){
    const layer=document.getElementById('heart-layer');
    const heart=document.createElement('div');
    heart.className='flying-heart';
    heart.innerText='â¤ï¸';
    layer.appendChild(heart);

    const a=fromLamp.getBoundingClientRect();
    const b=toLamp.getBoundingClientRect();

    const sx=a.left+a.width/2;
    const sy=a.top+a.height/2;
    const ex=b.left+b.width/2;
    const ey=b.top+b.height/2;

    const cx=(sx+ex)/2;
    const cy=Math.min(sy,ey)-220;

    gsap.fromTo(heart,{
        x:sx,y:sy,scale:.6,opacity:1
    },{
        duration:2,
        scale:1.2,
        ease:"power1.inOut",
        motionPath:{
            path:[
                {x:sx,y:sy},
                {x:cx,y:cy},
                {x:ex,y:ey}
            ],
            curviness:1.6
        },
        onComplete:()=>{
            heart.remove();
            onArrive();
        }
    });
}

/* double tap */
let lastTap=0;
document.querySelectorAll('.lamp').forEach(lamp=>{
    lamp.addEventListener('click',()=>{
        const now=Date.now();
        if(now-lastTap<350){
            modeIndex=(modeIndex+1)%modes.length;

            const side=lamp.dataset.side;
            const otherSide=side==='left'?'right':'left';
            const otherLamp=document.querySelector(`.lamp[data-side="${otherSide}"]`);

            /* immediate change on touched lamp */
            applyModeTo(side);

            /* delayed change on partner lamp */
            flyHeart(lamp,otherLamp,()=>applyModeTo(otherSide));
        }
        lastTap=now;
    });
});

/* floating */
gsap.to('.lamp-stage',{y:10,duration:4,repeat:-1,yoyo:true,ease:"sine.inOut"});

/* valentine countdown */
function updateCountdown(){
    const n=new Date();
    const y=n.getMonth()>1?n.getFullYear()+1:n.getFullYear();
    const v=new Date(y,1,14);
    const d=v-n;
    if(d<=0) return countdown.innerText="Today â¤ï¸";
    countdown.innerText=
        Math.floor(d/864e5)+"d "+
        Math.floor(d%864e5/36e5)+"h "+
        Math.floor(d%36e5/6e4)+"m";
}
setInterval(updateCountdown,1000);
updateCountdown();

/* particles */
const c=document.getElementById('particles'),ctx=c.getContext('2d');
function resize(){c.width=innerWidth;c.height=innerHeight}
addEventListener('resize',resize);resize();
const parts=[...Array(60)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*2,s:Math.random()*.4+.1}));
(function anim(){
    ctx.clearRect(0,0,c.width,c.height);
    ctx.fillStyle="rgba(255,255,255,.25)";
    parts.forEach(p=>{
        ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
        p.y-=p.s;if(p.y<0)p.y=c.height;
    });
    requestAnimationFrame(anim);
})();
</script>

</body>
</html>
